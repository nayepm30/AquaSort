<div class="dashboard-layout" [class.sidebar-collapsed]="isSidebarCollapsed">
  <!-- Sidebar izquierdo -->
  <aside class="sidebar">
    <div class="sidebar-logo">
      <img src="/assets/images/logo.png" alt="Logo AquaSort" height="40">
      <span>AquaSort</span>
    </div>
    <nav class="sidebar-menu">
      <a routerLink="/inicioAdministrador"><i class="fas fa-home"></i> Inicio</a>

      <!-- Menú desplegable para Solicitudes -->
      <div class="menu-item-with-submenu">
        <div class="menu-header" (click)="toggleProductSubmenu()">
          <i class="fas fa-box"></i>
          <span>Solicitudes</span>
          <i class="fas fa-angle-down submenu-icon" [class.rotated]="isProductSubmenuOpen"></i>
        </div>
        <div class="submenu" [class.open]="isProductSubmenuOpen">
          <a routerLink="/solicitudesPendientes">Pendientes</a>
          <a routerLink="/solicitudesHistorial" routerLinkActive="active">Historial</a>
        </div>
      </div>

      <!-- Menú desplegable para Estadísticas (sin Inventario) -->
      <div class="menu-item-with-submenu">
        <div class="menu-header" (click)="togglePurchasesSubmenu()">
          <i class="fas fa-shopping-cart"></i>
          <span>Estadísticas</span>
          <i class="fas fa-angle-down submenu-icon" [class.rotated]="isPurchasesSubmenuOpen"></i>
        </div>
        <div class="submenu" [class.open]="isPurchasesSubmenuOpen">
          <a routerLink="/estadisticas-ventas" routerLinkActive="active">Ventas</a>
          <a routerLink="/compras/pendientes" routerLinkActive="active">Compras</a>
        </div>
      </div>

      <!-- Inventario como ítem independiente -->
      <a routerLink="/inventario" routerLinkActive="active">
        <i class="fas fa-boxes"></i> Inventario
      </a>

      <!-- Menú desplegable para Proveedores -->
      <div class="menu-item-with-submenu">
        <div class="menu-header" (click)="toggleProveedoresSubmenu()">
          <i class="fas fa-truck"></i>
          <span>Proveedores</span>
          <i class="fas fa-angle-down submenu-icon" [class.rotated]="isProveedoresSubmenuOpen"></i>
        </div>
        <div class="submenu" [class.open]="isProveedoresSubmenuOpen">
          <a routerLink="/compras/historial" routerLinkActive="active">Productos</a>
          <a routerLink="/compras/pendientes" routerLinkActive="active">Compras</a>
          <a routerLink="/compras/pendientes" routerLinkActive="active">Ventas</a>
        </div>
      </div>
    </nav>

    <div class="sidebar-footer">
      <a routerLink="/perfil" routerLinkActive="active"><i class="fas fa-user"></i> Mi Perfil</a>
      <button (click)="cerrarSesion()" class="logout-link">
        <i class="fas fa-sign-out-alt"></i> Cerrar sesión
      </button>
    </div>
  </aside>

  <!-- Contenido principal con header -->
  <div class="main-content">
    <header class="header-logged">
      <!-- Botón hamburguesa -->
      <button class="toggle-sidebar-btn" (click)="toggleSidebar()">
        <i class="fas fa-bars" [class.rotated]="isSidebarCollapsed"></i>
      </button>

      <!-- Logo centrado -->
      <div class="header-brand-center">
        <img src="/assets/images/logo.png" alt="Logo AquaSort" height="30">
        <span>AquaSort</span>
      </div>

      <div class="header-spacer"></div>
    </header>

    <main class="layout-content">
      <router-outlet></router-outlet>
    </main>
  </div>
</div>
